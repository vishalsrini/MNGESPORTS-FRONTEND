(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{dD61:function(e,t,o){"use strict";o.r(t),o.d(t,"MatchPageModule",(function(){return L}));var i=o("ofXK"),n=o("3Pt+"),r=o("TEn/"),c=o("tyNb"),a=o("mrSG"),s=o("gcOT"),l=(o("NcNw"),o("0+S0")),b=o("AytR"),d=o("fXoL"),h=o("tk/3");let u=(()=>{class e{constructor(e,t){this.http=e,this.firebaseAuthService=t,this.firebaseAuthService.getLoggedInUser().getIdToken().then(e=>{this.idToken=e})}fetchRivalsList(e){return this.http.get(b.a.serverUrl+"/match-rivals?matchId="+e+"&userId="+this.firebaseAuthService.getLoggedInUser().email+"&idToken="+this.idToken)}joinEvent(e){return e.userId=this.firebaseAuthService.getLoggedInUser().email,this.http.post(b.a.serverUrl+"/event/join?idToken="+this.idToken,e)}}return e.\u0275fac=function(t){return new(t||e)(d.Vb(h.a),d.Vb(l.a))},e.\u0275prov=d.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=o("jhN1");function p(e,t){if(1&e&&d.Nb(0,"div",7),2&e){const e=d.cc();d.oc("background-image","url("+e.matchDetails.imgUrl+")",d.Fb)}}function f(e,t){if(1&e&&d.Nb(0,"iframe",8),2&e){const e=d.cc();d.hc("src",e.youtubeUrl,d.lc)}}function g(e,t){if(1&e){const e=d.Sb();d.Rb(0,"ion-col",9),d.Rb(1,"ion-button",10),d.Zb("click",(function(){return d.kc(e),d.cc().fetchDetailsAndJoin()})),d.qc(2,"Join Now"),d.Qb(),d.Qb()}}function y(e,t){1&e&&(d.Rb(0,"b"),d.qc(1," Please find your room details below - "),d.Qb())}function A(e,t){if(1&e&&(d.Rb(0,"ion-row"),d.Rb(1,"ion-col"),d.qc(2," Room ID "),d.Qb(),d.Rb(3,"ion-col"),d.Rb(4,"ion-badge",11),d.qc(5),d.Qb(),d.Qb(),d.Qb()),2&e){const e=d.cc();d.Ab(5),d.rc(e.matchDetails.roomId)}}function R(e,t){if(1&e&&(d.Rb(0,"ion-row"),d.Rb(1,"ion-col"),d.qc(2," Room Password "),d.Qb(),d.Rb(3,"ion-col"),d.Rb(4,"ion-badge",11),d.qc(5),d.Qb(),d.Qb(),d.Qb()),2&e){const e=d.cc();d.Ab(5),d.rc(e.matchDetails.roomPass)}}function N(e,t){if(1&e&&(d.Rb(0,"ion-row"),d.Rb(1,"ion-col"),d.qc(2," Slot No "),d.Qb(),d.Rb(3,"ion-col"),d.Rb(4,"ion-badge",11),d.qc(5),d.Qb(),d.Qb(),d.Qb()),2&e){const e=d.cc();d.Ab(5),d.rc(e.slotNo)}}function I(e,t){1&e&&(d.Rb(0,"span"),d.qc(1,"Be the first one to join the event !!"),d.Qb())}function Q(e,t){if(1&e&&(d.Rb(0,"ion-row"),d.Rb(1,"ion-col"),d.qc(2),d.Qb(),d.Rb(3,"ion-col"),d.qc(4),d.Qb(),d.Qb()),2&e){const e=t.$implicit;d.Ab(2),d.rc(e.slotNo),d.Ab(2),d.rc(e.teamName)}}function v(e,t){if(1&e&&(d.Rb(0,"ion-grid"),d.Rb(1,"ion-row"),d.Rb(2,"ion-col",12),d.qc(3," SLOT NO "),d.Qb(),d.Rb(4,"ion-col",12),d.qc(5," TEAM NAME "),d.Qb(),d.Qb(),d.pc(6,Q,5,2,"ion-row",13),d.Qb()),2&e){const e=d.cc();d.Ab(6),d.hc("ngForOf",e.teamDetails)}}const{Storage:w}=s.a,D=[{path:"",component:(()=>{class e{constructor(e,t,o,i){this.alertController=e,this.domSanitizer=t,this.toastController=o,this.service=i,this.matchDetails={matchId:0,title:"LOADING",date:"LOADING",time:"LOADING",description:"LOADING",roomId:"LOADING",roomPass:"LOADING",imgUrl:"LOADING",youtubeLink:"NA",status:"NOT STARTED",teamsCount:0},this.teamDetails=[]}ngOnInit(){w.get({key:"match"}).then(e=>{let t=JSON.parse(e.value);t.hasOwnProperty("joined")&&t.joined&&(this.userJoinedAlready=!0,this.slotNo=t.slotNo),this.matchDetails=t,"NA"!=t.youtubeLink&&(this.youtubeUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(t.youtubeLink)),this.service.fetchRivalsList(this.matchDetails.matchId).subscribe(e=>{200==e.status&&(this.teamDetails=e.response.length>0?e.response.sort((e,t)=>e.slotNo-t.slotNo):[])})})}fetchDetailsAndJoin(){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({cssClass:"custom-class",header:"Fill Below Details to Join the Match!!",inputs:[{name:"teamName",type:"text",placeholder:"Enter Team Name"},{name:"Player1",type:"text",placeholder:"Enter Player 1 Name"},{name:"Player2",type:"text",placeholder:"Enter Player 2 Name"},{name:"Player3",type:"text",placeholder:"Enter Player 3 Name"},{name:"Player4",type:"text",placeholder:"Enter Player 4 Name"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Ok",handler:e=>Object(a.a)(this,void 0,void 0,(function*(){""==e.teamName||""==e.Player1||""==e.Player2||""==e.Player3||""==e.Player4?(yield this.toastController.create({message:"Kindly Enter Team Name and all Player Details.",duration:2e3})).present():(e.matchId=this.matchDetails.matchId,this.service.joinEvent(e).subscribe(e=>Object(a.a)(this,void 0,void 0,(function*(){200==e.status&&((yield this.toastController.create({message:"Your entry has been accepted! Your Slot Number - "+e.slotNo,duration:4e3})).present(),this.userJoinedAlready=!0,this.slotNo=e.slotNo)}))))}))}]});yield e.present()}))}}return e.\u0275fac=function(t){return new(t||e)(d.Mb(r.a),d.Mb(m.b),d.Mb(r.F),d.Mb(u))},e.\u0275cmp=d.Gb({type:e,selectors:[["app-match"]],decls:34,vars:15,consts:[[1,"ion-no-border"],["slot","start"],["style","height: 200px; border-radius: 0px 0px 50px 50px; background-size:cover",3,"backgroundImage",4,"ngIf"],["height","200px","width","100%","frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src",4,"ngIf"],["size","7",1,"ion-align-self-center"],["class","ion-align-self-center",4,"ngIf"],[4,"ngIf"],[2,"height","200px","border-radius","0px 0px 50px 50px","background-size","cover"],["height","200px","width","100%","frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src"],[1,"ion-align-self-center"],[2,"display","inline-block",3,"click"],["color","warning"],["color","primary"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(d.Rb(0,"ion-header",0),d.Rb(1,"ion-toolbar"),d.Rb(2,"ion-buttons",1),d.Nb(3,"ion-back-button"),d.Qb(),d.qc(4),d.dc(5,"uppercase"),d.Qb(),d.Qb(),d.Rb(6,"ion-content"),d.pc(7,p,1,2,"div",2),d.pc(8,f,1,1,"iframe",3),d.Rb(9,"ion-card"),d.Rb(10,"ion-card-header"),d.Rb(11,"ion-card-title"),d.qc(12," Description "),d.Qb(),d.Qb(),d.Rb(13,"ion-card-content"),d.qc(14),d.Nb(15,"br"),d.Rb(16,"ion-grid"),d.Rb(17,"ion-row"),d.Rb(18,"ion-col",4),d.Rb(19,"small"),d.qc(20),d.Qb(),d.Qb(),d.pc(21,g,3,0,"ion-col",5),d.Qb(),d.pc(22,y,2,0,"b",6),d.Nb(23,"br"),d.pc(24,A,6,1,"ion-row",6),d.pc(25,R,6,1,"ion-row",6),d.pc(26,N,6,1,"ion-row",6),d.Qb(),d.Qb(),d.Qb(),d.Rb(27,"ion-card"),d.Rb(28,"ion-card-header"),d.Rb(29,"ion-card-title"),d.qc(30," Rivals List "),d.Qb(),d.Qb(),d.Rb(31,"ion-card-content"),d.pc(32,I,2,0,"span",6),d.pc(33,v,7,1,"ion-grid",6),d.Qb(),d.Qb(),d.Qb()),2&e&&(d.Ab(4),d.sc(" ",d.ec(5,13,t.matchDetails.title)," "),d.Ab(3),d.hc("ngIf","NA"==t.matchDetails.youtubeLink),d.Ab(1),d.hc("ngIf","NA"!=t.matchDetails.youtubeLink),d.Ab(6),d.sc(" ",t.matchDetails.description," "),d.Ab(6),d.tc(" Join us @ ",t.matchDetails.date,", ",t.matchDetails.time," "),d.Ab(1),d.hc("ngIf",!t.userJoinedAlready),d.Ab(1),d.hc("ngIf",t.userJoinedAlready),d.Ab(2),d.hc("ngIf",t.userJoinedAlready),d.Ab(1),d.hc("ngIf",t.userJoinedAlready),d.Ab(1),d.hc("ngIf",t.userJoinedAlready),d.Ab(6),d.hc("ngIf",t.teamDetails.length<=0),d.Ab(1),d.hc("ngIf",t.teamDetails.length>0))},directives:[r.o,r.y,r.g,r.c,r.d,r.m,i.j,r.h,r.j,r.k,r.i,r.n,r.u,r.l,r.f,r.e,i.i],pipes:[i.m],styles:[""]}),e})(),canActivate:[o("etIK").a]}];let k=(()=>{class e{}return e.\u0275mod=d.Kb({type:e}),e.\u0275inj=d.Jb({factory:function(t){return new(t||e)},imports:[[c.i.forChild(D)],c.i]}),e})(),L=(()=>{class e{}return e.\u0275mod=d.Kb({type:e}),e.\u0275inj=d.Jb({factory:function(t){return new(t||e)},providers:[u],imports:[[i.b,n.e,h.b,r.z,k]]}),e})()}}]);