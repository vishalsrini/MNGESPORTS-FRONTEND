function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{dD61:function(e,t,n){"use strict";n.r(t),n.d(t,"MatchPageModule",(function(){return L}));var r,o=n("ofXK"),i=n("3Pt+"),a=n("TEn/"),c=n("tyNb"),s=n("mrSG"),l=n("gcOT"),b=(n("NcNw"),n("0+S0")),u=n("AytR"),h=n("fXoL"),d=n("tk/3"),f=((r=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.http=t,this.firebaseAuthService=n,this.firebaseAuthService.getLoggedInUser().getIdToken().then((function(e){r.idToken=e}))}return _createClass(e,[{key:"fetchRivalsList",value:function(e){return this.http.get(u.a.serverUrl+"/match-rivals?matchId="+e+"&userId="+this.firebaseAuthService.getLoggedInUser().email+"&idToken="+this.idToken)}},{key:"joinEvent",value:function(e){return e.userId=this.firebaseAuthService.getLoggedInUser().email,this.http.post(u.a.serverUrl+"/event/join?idToken="+this.idToken,e)}}]),e}()).\u0275fac=function(e){return new(e||r)(h.Vb(d.a),h.Vb(b.a))},r.\u0275prov=h.Ib({token:r,factory:r.\u0275fac,providedIn:"root"}),r),p=n("jhN1");function m(e,t){if(1&e&&h.Nb(0,"div",7),2&e){var n=h.cc();h.oc("background-image","url("+n.matchDetails.imgUrl+")",h.Fb)}}function g(e,t){if(1&e&&h.Nb(0,"iframe",8),2&e){var n=h.cc();h.hc("src",n.youtubeUrl,h.lc)}}function y(e,t){if(1&e){var n=h.Sb();h.Rb(0,"ion-col",9),h.Rb(1,"ion-button",10),h.Zb("click",(function(){return h.kc(n),h.cc().fetchDetailsAndJoin()})),h.qc(2,"Join Now"),h.Qb(),h.Qb()}}function v(e,t){1&e&&(h.Rb(0,"b"),h.qc(1," Please find your room details below - "),h.Qb())}function R(e,t){if(1&e&&(h.Rb(0,"ion-row"),h.Rb(1,"ion-col"),h.qc(2," Room ID "),h.Qb(),h.Rb(3,"ion-col"),h.Rb(4,"ion-badge",11),h.qc(5),h.Qb(),h.Qb(),h.Qb()),2&e){var n=h.cc();h.Ab(5),h.rc(n.matchDetails.roomId)}}function A(e,t){if(1&e&&(h.Rb(0,"ion-row"),h.Rb(1,"ion-col"),h.qc(2," Room Password "),h.Qb(),h.Rb(3,"ion-col"),h.Rb(4,"ion-badge",11),h.qc(5),h.Qb(),h.Qb(),h.Qb()),2&e){var n=h.cc();h.Ab(5),h.rc(n.matchDetails.roomPass)}}function N(e,t){if(1&e&&(h.Rb(0,"ion-row"),h.Rb(1,"ion-col"),h.qc(2," Slot No "),h.Qb(),h.Rb(3,"ion-col"),h.Rb(4,"ion-badge",11),h.qc(5),h.Qb(),h.Qb(),h.Qb()),2&e){var n=h.cc();h.Ab(5),h.rc(n.slotNo)}}function k(e,t){1&e&&(h.Rb(0,"span"),h.qc(1,"Be the first one to join the event !!"),h.Qb())}function w(e,t){if(1&e&&(h.Rb(0,"ion-row"),h.Rb(1,"ion-col"),h.qc(2),h.Qb(),h.Rb(3,"ion-col"),h.qc(4),h.Qb(),h.Qb()),2&e){var n=t.$implicit;h.Ab(2),h.rc(n.slotNo),h.Ab(2),h.rc(n.teamName)}}function I(e,t){if(1&e&&(h.Rb(0,"ion-grid"),h.Rb(1,"ion-row"),h.Rb(2,"ion-col",12),h.qc(3," SLOT NO "),h.Qb(),h.Rb(4,"ion-col",12),h.qc(5," TEAM NAME "),h.Qb(),h.Qb(),h.pc(6,w,5,2,"ion-row",13),h.Qb()),2&e){var n=h.cc();h.Ab(6),h.hc("ngForOf",n.teamDetails)}}var Q,D,x,C=l.a.Storage,P=[{path:"",component:(Q=function(){function e(t,n,r,o){_classCallCheck(this,e),this.alertController=t,this.domSanitizer=n,this.toastController=r,this.service=o,this.matchDetails={matchId:0,title:"LOADING",date:"LOADING",time:"LOADING",description:"LOADING",roomId:"LOADING",roomPass:"LOADING",imgUrl:"LOADING",youtubeLink:"NA",status:"NOT STARTED",teamsCount:0},this.teamDetails=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;C.get({key:"match"}).then((function(t){var n=JSON.parse(t.value);n.hasOwnProperty("joined")&&n.joined&&(e.userJoinedAlready=!0,e.slotNo=n.slotNo),e.matchDetails=n,"NA"!=n.youtubeLink&&(e.youtubeUrl=e.domSanitizer.bypassSecurityTrustResourceUrl(n.youtubeLink)),e.service.fetchRivalsList(e.matchDetails.matchId).subscribe((function(t){200==t.status&&(e.teamDetails=t.response.length>0?t.response.sort((function(e,t){return e.slotNo-t.slotNo})):[])}))}))}},{key:"fetchDetailsAndJoin",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"custom-class",header:"Fill Below Details to Join the Match!!",inputs:[{name:"teamName",type:"text",placeholder:"Enter Team Name"},{name:"Player1",type:"text",placeholder:"Enter Player 1 Name"},{name:"Player2",type:"text",placeholder:"Enter Player 2 Name"},{name:"Player3",type:"text",placeholder:"Enter Player 3 Name"},{name:"Player4",type:"text",placeholder:"Enter Player 4 Name"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"Ok",handler:function(e){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.teamName&&""!=e.Player1&&""!=e.Player2&&""!=e.Player3&&""!=e.Player4){t.next=6;break}return t.next=3,this.toastController.create({message:"Kindly Enter Team Name and all Player Details.",duration:2e3});case 3:t.sent.present(),t.next=7;break;case 6:e.matchId=this.matchDetails.matchId,this.service.joinEvent(e).subscribe((function(e){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=200==e.status,!t.t0){t.next=7;break}return t.next=4,this.toastController.create({message:"Your entry has been accepted! Your Slot Number - "+e.slotNo,duration:4e3});case 4:t.sent.present(),this.userJoinedAlready=!0,this.slotNo=e.slotNo;case 7:case"end":return t.stop()}}),t,this)})))}));case 7:case"end":return t.stop()}}),t,this)})))}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}}]),e}(),Q.\u0275fac=function(e){return new(e||Q)(h.Mb(a.a),h.Mb(p.b),h.Mb(a.F),h.Mb(f))},Q.\u0275cmp=h.Gb({type:Q,selectors:[["app-match"]],decls:34,vars:15,consts:[[1,"ion-no-border"],["slot","start"],["style","height: 200px; border-radius: 0px 0px 50px 50px; background-size:cover",3,"backgroundImage",4,"ngIf"],["height","200px","width","100%","frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src",4,"ngIf"],["size","7",1,"ion-align-self-center"],["class","ion-align-self-center",4,"ngIf"],[4,"ngIf"],[2,"height","200px","border-radius","0px 0px 50px 50px","background-size","cover"],["height","200px","width","100%","frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src"],[1,"ion-align-self-center"],[2,"display","inline-block",3,"click"],["color","warning"],["color","primary"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(h.Rb(0,"ion-header",0),h.Rb(1,"ion-toolbar"),h.Rb(2,"ion-buttons",1),h.Nb(3,"ion-back-button"),h.Qb(),h.qc(4),h.dc(5,"uppercase"),h.Qb(),h.Qb(),h.Rb(6,"ion-content"),h.pc(7,m,1,2,"div",2),h.pc(8,g,1,1,"iframe",3),h.Rb(9,"ion-card"),h.Rb(10,"ion-card-header"),h.Rb(11,"ion-card-title"),h.qc(12," Description "),h.Qb(),h.Qb(),h.Rb(13,"ion-card-content"),h.qc(14),h.Nb(15,"br"),h.Rb(16,"ion-grid"),h.Rb(17,"ion-row"),h.Rb(18,"ion-col",4),h.Rb(19,"small"),h.qc(20),h.Qb(),h.Qb(),h.pc(21,y,3,0,"ion-col",5),h.Qb(),h.pc(22,v,2,0,"b",6),h.Nb(23,"br"),h.pc(24,R,6,1,"ion-row",6),h.pc(25,A,6,1,"ion-row",6),h.pc(26,N,6,1,"ion-row",6),h.Qb(),h.Qb(),h.Qb(),h.Rb(27,"ion-card"),h.Rb(28,"ion-card-header"),h.Rb(29,"ion-card-title"),h.qc(30," Rivals List "),h.Qb(),h.Qb(),h.Rb(31,"ion-card-content"),h.pc(32,k,2,0,"span",6),h.pc(33,I,7,1,"ion-grid",6),h.Qb(),h.Qb(),h.Qb()),2&e&&(h.Ab(4),h.sc(" ",h.ec(5,13,t.matchDetails.title)," "),h.Ab(3),h.hc("ngIf","NA"==t.matchDetails.youtubeLink),h.Ab(1),h.hc("ngIf","NA"!=t.matchDetails.youtubeLink),h.Ab(6),h.sc(" ",t.matchDetails.description," "),h.Ab(6),h.tc(" Join us @ ",t.matchDetails.date,", ",t.matchDetails.time," "),h.Ab(1),h.hc("ngIf",!t.userJoinedAlready),h.Ab(1),h.hc("ngIf",t.userJoinedAlready),h.Ab(2),h.hc("ngIf",t.userJoinedAlready),h.Ab(1),h.hc("ngIf",t.userJoinedAlready),h.Ab(1),h.hc("ngIf",t.userJoinedAlready),h.Ab(6),h.hc("ngIf",t.teamDetails.length<=0),h.Ab(1),h.hc("ngIf",t.teamDetails.length>0))},directives:[a.o,a.y,a.g,a.c,a.d,a.m,o.j,a.h,a.j,a.k,a.i,a.n,a.u,a.l,a.f,a.e,o.i],pipes:[o.m],styles:[""]}),Q),canActivate:[n("etIK").a]}],O=((x=function e(){_classCallCheck(this,e)}).\u0275mod=h.Kb({type:x}),x.\u0275inj=h.Jb({factory:function(e){return new(e||x)},imports:[[c.i.forChild(P)],c.i]}),x),L=((D=function e(){_classCallCheck(this,e)}).\u0275mod=h.Kb({type:D}),D.\u0275inj=h.Jb({factory:function(e){return new(e||D)},providers:[f],imports:[[o.b,i.e,d.b,a.z,O]]}),D)}}]);